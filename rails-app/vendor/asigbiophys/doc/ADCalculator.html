<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Module: ADCalculator</title>

	<link rel="stylesheet" href="./rdoc.css" type="text/css" media="screen" />

	<script src="./js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="./js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="module">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="./lib/ad_calculator_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/ad_calculator.rb">lib/ad_calculator.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			

			<!-- Namespace Contents -->
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-i-Change_In_Daily_Storage">#Change_In_Daily_Storage</a></li>
					
					<li><a href="#method-i-Daily_Deep_Drainage_Volume">#Daily_Deep_Drainage_Volume</a></li>
					
					<li><a href="#method-i-Daily_RAW">#Daily_RAW</a></li>
					
					<li><a href="#method-i-Daily_TWC">#Daily_TWC</a></li>
					
					<li><a href="#method-i-Pct_Moisture_At_Raw_Min">#Pct_Moisture_At_Raw_Min</a></li>
					
					<li><a href="#method-i-RAW_Max">#RAW_Max</a></li>
					
					<li><a href="#method-i-TAW">#TAW</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="./CHANGELOG.html">CHANGELOG</a></li>
				
					<li class="file"><a href="./LICENSE.html">LICENSE</a></li>
				
					<li class="file"><a href="./README.html">README</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="./images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="./ADCalculator.html">ADCalculator</a></li>
				
					<li><a href="./ETCalculator.html">ETCalculator</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="module">ADCalculator</h1>

		<div id="description">
			
		</div>

		<!-- Constants -->
		

		<!-- Attributes -->
		

		<!-- Methods -->
		
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="calc-hange-n-aily-torage-method" class="method-detail ">
				<a name="method-i-Change_In_Daily_Storage"></a>

				<div class="method-heading">
				
					<span class="method-name">Change_In_Daily_Storage</span><span
						class="method-args">(daily_Rain, daily_Irrig, adj_ET)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
                                             
</pre>
<table>
<tr><td valign="top">Created</td><td><p>
18May11
</p>
</td></tr>
<tr><td valign="top">Author</td><td><p>
P Kaarakka
</p>
</td></tr>
</table>
<p>
daily_Rain is accumulated rainfall for the day in inches
 daily_Irrigation
is accumulated irigation for the day in inches
 adj_ET is calculated in
module EtCalculator
 Result is in inches of water
</p>
					

					
					<div class="method-source-code"
						id="calc-hange-n-aily-torage-source">
<pre>
    <span class="ruby-comment cmt"># File lib/ad_calculator.rb, line 52</span>
52:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">Change_In_Daily_Storage</span>(<span class="ruby-identifier">daily_Rain</span>, <span class="ruby-identifier">daily_Irrig</span>, <span class="ruby-identifier">adj_ET</span>)
53:     <span class="ruby-identifier">delta_Stor</span> = (<span class="ruby-identifier">daily_Rain</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">daily_Irrig</span>) <span class="ruby-operator">-</span> <span class="ruby-identifier">adjET</span>
54:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="calc-aily-eep-rainage-olume-method" class="method-detail ">
				<a name="method-i-Daily_Deep_Drainage_Volume"></a>

				<div class="method-heading">
				
					<span class="method-name">Daily_Deep_Drainage_Volume</span><span
						class="method-args">(raw_Max, prev_Daily_RAW, delta_Stor)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
                                             
</pre>
<table>
<tr><td valign="top">Created</td><td><p>
18May11
</p>
</td></tr>
<tr><td valign="top">Author</td><td><p>
P Kaarakka
</p>
</td></tr>
</table>
<p>
raw_Max is calculated in Max_RAW_Inches
 prev_Daily_RAW is previous
day&#8217;s daily RAW
 delta_Stor is calculated in <a
href="ADCalculator.html#method-i-Change_In_Daily_Storage">Change_In_Daily_Storage</a>
Result is in inches/day
</p>
					

					
					<div class="method-source-code"
						id="calc-aily-eep-rainage-olume-source">
<pre>
     <span class="ruby-comment cmt"># File lib/ad_calculator.rb, line 103</span>
103:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">Daily_Deep_Drainage_Volume</span>(<span class="ruby-identifier">raw_Max</span>, <span class="ruby-identifier">prev_Daily_RAW</span>, <span class="ruby-identifier">delta_Stor</span>)
104:     <span class="ruby-identifier">temp_DDV</span> = <span class="ruby-identifier">prev_Daily_RAW</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">delta_Stor</span>
105:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">temp_DDV</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">raw_Max</span>
106:       <span class="ruby-identifier">ddv</span> = <span class="ruby-identifier">temp_DDV</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">raw_Max</span>
107:     <span class="ruby-keyword kw">else</span>
108:       <span class="ruby-identifier">ddv</span> = <span class="ruby-value">0</span>
109:     <span class="ruby-keyword kw">end</span>
110:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="calc-aily--method" class="method-detail ">
				<a name="method-i-Daily_RAW"></a>

				<div class="method-heading">
				
					<span class="method-name">Daily_RAW</span><span
						class="method-args">(raw_Max, prev_Daily_RAW, delta_Stor)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
                                             
</pre>
<table>
<tr><td valign="top">Created</td><td><p>
18May11
</p>
</td></tr>
<tr><td valign="top">Author</td><td><p>
P Kaarakka
</p>
</td></tr>
</table>
<p>
RAW is Readily Available Water
 raw_Max is calculated in
Max_RAW_Inches
 prev_Daily_RAW is previous day&#8217;s daily RAW
delta_Stor is calculated in <a
href="ADCalculator.html#method-i-Change_In_Daily_Storage">Change_In_Daily_Storage</a>
Result is in inches of water
</p>
					

					
					<div class="method-source-code"
						id="calc-aily--source">
<pre>
    <span class="ruby-comment cmt"># File lib/ad_calculator.rb, line 64</span>
64:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">Daily_RAW</span>(<span class="ruby-identifier">raw_Max</span>, <span class="ruby-identifier">prev_Daily_RAW</span>, <span class="ruby-identifier">delta_Stor</span>)
65:     <span class="ruby-identifier">temp_Raw</span> = <span class="ruby-identifier">prev_Daily_RAW</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">delta_Stor</span>
66:     <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">temp_Raw</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">raw_Max</span>
67:       <span class="ruby-identifier">raw</span> = <span class="ruby-identifier">raw_Max</span>
68:     <span class="ruby-keyword kw">else</span>
69:       <span class="ruby-identifier">raw</span> = <span class="ruby-identifier">temp_Raw</span>
70:     <span class="ruby-keyword kw">end</span>
71:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="calc-aily--method" class="method-detail ">
				<a name="method-i-Daily_TWC"></a>

				<div class="method-heading">
				
					<span class="method-name">Daily_TWC</span><span
						class="method-args">(pwp, pct_Moisture_At_Raw_Min, raw, mrzd, pct_Moisture_Obs)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
                                             
</pre>
<table>
<tr><td valign="top">Created</td><td><p>
18May11
</p>
</td></tr>
<tr><td valign="top">Author</td><td><p>
P Kaarakka
</p>
</td></tr>
</table>
<p>
TWC is Total Available Water
 pwp is permanent wilting point
 mrzd is
managed root zone depth
 pct_Moisture_At_Raw_Min is calculated in <a
href="ADCalculator.html#method-i-Pct_Moisture_At_Raw_Min">Pct_Moisture_At_Raw_Min</a>
raw is current day&#8217;s RAW
 pct_Moisture_Obs is observed soil moisture
for the day
 Result is in percent
</p>
					

					
					<div class="method-source-code"
						id="calc-aily--source">
<pre>
    <span class="ruby-comment cmt"># File lib/ad_calculator.rb, line 83</span>
83:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">Daily_TWC</span>(<span class="ruby-identifier">pwp</span>, <span class="ruby-identifier">pct_Moisture_At_Raw_Min</span>, <span class="ruby-identifier">raw</span>, <span class="ruby-identifier">mrzd</span>, <span class="ruby-identifier">pct_Moisture_Obs</span>)
84:     <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">pct_Moisture_Obs</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>) 
85:       <span class="ruby-identifier">pct_Moisture_Obs</span>
86:     <span class="ruby-keyword kw">else</span> 
87:       <span class="ruby-identifier">temp_TWC</span> = (<span class="ruby-identifier">pct_Moisture_At_Raw_Min</span><span class="ruby-operator">+</span>((<span class="ruby-identifier">raw_Curr</span><span class="ruby-operator">/</span><span class="ruby-identifier">mrzd</span>)*<span class="ruby-value">100</span>))
88:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">temp_TWC</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">pwp</span>
89:         <span class="ruby-identifier">pwp</span>
90:       <span class="ruby-keyword kw">else</span>
91:         <span class="ruby-identifier">temp_TWC</span>
92:       <span class="ruby-keyword kw">end</span>
93:     <span class="ruby-keyword kw">end</span>
94:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="calc-ct-oisture-t-aw-in-method" class="method-detail ">
				<a name="method-i-Pct_Moisture_At_Raw_Min"></a>

				<div class="method-heading">
				
					<span class="method-name">Pct_Moisture_At_Raw_Min</span><span
						class="method-args">(fc, raw_Max, mrzd)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
                                             
</pre>
<table>
<tr><td valign="top">Created</td><td><p>
18May11
</p>
</td></tr>
<tr><td valign="top">Author</td><td><p>
P Kaarakka
</p>
</td></tr>
</table>
<p>
This should be recalculated and saved whenever soils, crop, or root zone
depth are changed
 fc is field capacity
 mrzd is managed root zone depth
rawMax is calculated in Max_RAW_Inches
 Result is in percent
</p>
					

					
					<div class="method-source-code"
						id="calc-ct-oisture-t-aw-in-source">
<pre>
    <span class="ruby-comment cmt"># File lib/ad_calculator.rb, line 42</span>
42:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">Pct_Moisture_At_Raw_Min</span>(<span class="ruby-identifier">fc</span>, <span class="ruby-identifier">raw_Max</span>, <span class="ruby-identifier">mrzd</span>)
43:     <span class="ruby-identifier">pct_Moisture_At_Raw_Min</span> = (<span class="ruby-identifier">fc</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">raw_Max</span><span class="ruby-operator">/</span><span class="ruby-identifier">mrzd</span>)) * <span class="ruby-value">100</span>
44:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="calc-ax-method" class="method-detail ">
				<a name="method-i-RAW_Max"></a>

				<div class="method-heading">
				
					<span class="method-name">RAW_Max</span><span
						class="method-args">(mad_Frac, taw)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
                                             
</pre>
<table>
<tr><td valign="top">Created</td><td><p>
18May11
</p>
</td></tr>
<tr><td valign="top">Author</td><td><p>
P Kaarakka
</p>
</td></tr>
</table>
<p>
This should be recalculated and saved whenever soils, crop, or root zone
depth are changed
 RAW is Readily Available Water
 madFrac is fractional
form of Maximum Allowable Depletion
 taw is Total Available Water
 Result
is in inches of water
</p>
					

					
					<div class="method-source-code"
						id="calc-ax-source">
<pre>
    <span class="ruby-comment cmt"># File lib/ad_calculator.rb, line 30</span>
30:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">RAW_Max</span>(<span class="ruby-identifier">mad_Frac</span>, <span class="ruby-identifier">taw</span>)
31:     <span class="ruby-identifier">raw_Max</span> = <span class="ruby-identifier">mad_Frac</span> * <span class="ruby-identifier">taw</span>
32:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="calc--method" class="method-detail ">
				<a name="method-i-TAW"></a>

				<div class="method-heading">
				
					<span class="method-name">TAW</span><span
						class="method-args">(fc, pwp, mrzd)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<pre>
                                             
</pre>
<table>
<tr><td valign="top">Created</td><td><p>
18May11
</p>
</td></tr>
<tr><td valign="top">Author</td><td><p>
P Kaarakka
</p>
</td></tr>
</table>
<p>
This should be recalculated and saved whenever soils, crop, or root zone
depth are changed
 TAW is Total Available Water
 fc is field capacity
 pwp
is permanent wilting point
 mrzd is managed root zone depth
 Result is
inches of water
</p>
					

					
					<div class="method-source-code"
						id="calc--source">
<pre>
    <span class="ruby-comment cmt"># File lib/ad_calculator.rb, line 18</span>
18:   <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">TAW</span>(<span class="ruby-identifier">fc</span>, <span class="ruby-identifier">pwp</span>, <span class="ruby-identifier">mrzd</span>)
19:     <span class="ruby-identifier">taw</span> = (<span class="ruby-identifier">fc</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">pwp</span>)*<span class="ruby-identifier">mrzd</span>
20:   <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

